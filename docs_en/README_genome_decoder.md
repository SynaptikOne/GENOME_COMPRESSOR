#------------------------------------------------------------------------------

# Copyright (c) 2025 Rakotondravelo Tahina MickaÃ«l
# All rights reserved.
#
# This file is part of the GENOME_COMPRESSOR project.
#
# Licensed under the MIT License. You may obtain a copy of the License at:
# https://opensource.org/licenses/MIT
#------------------------------------------------------------------------------

# Module `genome_decoder.py`

**File:** `src/genome_decoder.py`

---

## Description

The `genome_decoder.py` module is used to decode a `.dna` file generated by the **GENOME_COMPRESSOR**.  
It relies on blocks, genes, and mutations to accurately reconstruct the original DNA sequence.

This module is crucial for validating the **reversibility** of the compression process.

---

## Main Features

- `GenomeDecoder.decode(data: dict) -> str`  
  Reconstructs the DNA sequence from loaded data (`genes`, `blocks`, `metadata`).

- `GenomeDecoder.decode_from_file(filename: str) -> str`  
  Loads a `.dna` file and returns the reconstructed DNA sequence.

- `GenomeDecoder.apply_mutation(gene_seq: str, mutation: str) -> str`  
  Applies a simple mutation (default: **base substitution**) to a sequence.

---

## Expected `.dna` File Format

```json
{
  "genes": {
    "G0": "ACGTACGT"
  },
  "blocks": [
    {
      "gene": "G0",
      "mutation": "sub_2_T"
    }
  ],
  "metadata": {
    "original_length": 8,
    "block_size": 4,
    "format_version": "1.0"
  }
}


Expected result:
ACTTACGT (replacement of the base at index 2 with "T")


Demo Execution

python3 -m src.genome_decoder


This uses a .dna file located in the current directory (e.g., test_output.dna) and prints the reconstructed sequence.

Future Improvements

    Support for complex mutations (insertions, deletions, inversions).

    Data integrity validation via checksum.

    Unit tests using edge-case .dna files.


License

This module is part of the open-source GENOME_COMPRESSOR project.
Free to reuse with attribution to the author.

